{"ast":null,"code":"import Clipboard from \"clipboard\";\nimport { preview } from '../../../api/api';\nexport default {\n  data() {\n    return {\n      activeName: \"one\",\n      data: {\n        domain: \"\",\n        domainName: \"\",\n        mapper: \"\",\n        mapperName: \"\",\n        service: \"\",\n        serviceName: \"\",\n        serviceImpl: \"\",\n        serviceImplName: \"\",\n        controller: \"\",\n        controllerName: \"\",\n        mapperXml: \"\",\n        mapperXmlName: \"\",\n        api: \"\",\n        index: \"\",\n        add: \"\",\n        update: \"\"\n      }\n    };\n  },\n  props: ['previewGenVisible', 'updateId'],\n  methods: {\n    copyName(name) {\n      console.log(\"name\");\n      if (name == \"domain\") {\n        // newData => 需要复制的文本 \n        navigator.clipboard.writeText(this.data.domainName).then(() => {\n          //复制成功后执行的逻辑\n          this.$message.success('复制成功');\n        });\n      }\n    },\n    copyCode(name) {\n      if (name == \"domain\") {}\n    },\n    handleClose() {\n      this.data = {\n        domain: \"\",\n        domainName: \"\",\n        mapper: \"\",\n        mapperName: \"\",\n        service: \"\",\n        serviceName: \"\",\n        serviceImpl: \"\",\n        serviceImplName: \"\",\n        controller: \"\",\n        controllerName: \"\",\n        mapperXml: \"\",\n        mapperXmlName: \"\",\n        api: \"\",\n        index: \"\",\n        add: \"\",\n        update: \"\"\n      };\n      this.$emit(\"previewGenFalse\");\n    }\n  },\n  created() {},\n  mounted() {},\n  watch: {\n    updateId(newVal) {\n      if (newVal) {\n        preview({\n          id: newVal\n        }).then(res => {\n          if (res.code == 1000) {\n            this.data = res.data;\n          } else {\n            this.$notify.error({\n              title: '错误',\n              message: res.message\n            });\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["Clipboard","preview","data","activeName","domain","domainName","mapper","mapperName","service","serviceName","serviceImpl","serviceImplName","controller","controllerName","mapperXml","mapperXmlName","api","index","add","update","props","methods","copyName","name","console","log","navigator","clipboard","writeText","then","$message","success","copyCode","handleClose","$emit","created","mounted","watch","updateId","newVal","id","res","code","$notify","error","title","message"],"sources":["src/components/system/generate/genPreview.vue"],"sourcesContent":["<template>\r\n  <div class=\"preview\">\r\n    <el-dialog title=\"代码预览\" width=\"60%\" :destroy-on-close=\"true\" :visible.sync=\"previewGenVisible\" :before-close=\"handleClose\">\r\n        <el-tabs v-model=\"activeName\">\r\n            <el-tab-pane label=\"domain.java\" name=\"one\"></el-tab-pane>\r\n            <el-tab-pane label=\"mapper.java\" name=\"two\"></el-tab-pane>\r\n            <el-tab-pane label=\"service.java\" name=\"three\"></el-tab-pane>\r\n            <el-tab-pane label=\"serviceImpl.java\" name=\"four\"></el-tab-pane>\r\n            <el-tab-pane label=\"controller.java\" name=\"five\"></el-tab-pane>\r\n            <el-tab-pane label=\"mapper.xml\" name=\"six\"></el-tab-pane>\r\n            <el-tab-pane label=\"api.js\" name=\"seven\"></el-tab-pane>\r\n            <el-tab-pane label=\"index.vue\" name=\"eight\"></el-tab-pane>\r\n            <el-tab-pane label=\"add.vue\" name=\"nine\"></el-tab-pane>\r\n            <el-tab-pane label=\"update.vue\" name=\"ten\"></el-tab-pane>\r\n        </el-tabs>\r\n        <div class=\"content\">\r\n            <div v-show=\"activeName == 'one'\">\r\n              <el-link type=\"danger\">\r\n                \r\n                <div>{{data.domainName}}</div>\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyName('domain')\">\r\n                <i class=\"el-icon-document-copy\" style=\"cursor: pointer;\"></i>复制名称\r\n              </el-button>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('domain')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.domain\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'two'\">\r\n              <el-link type=\"danger\">\r\n                <div>{{data.mapperName}}</div>\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyName('mapper')\">\r\n                <i class=\"el-icon-document-copy\" style=\"cursor: pointer;\"></i>复制名称\r\n              </el-button>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('mapper')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.mapper\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'three'\">\r\n              <el-link type=\"danger\">\r\n                <div>{{data.serviceName}}</div>\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyName('service')\">\r\n                <i class=\"el-icon-document-copy\" style=\"cursor: pointer;\"></i>复制名称\r\n              </el-button>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('service')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.service\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'four'\">\r\n              <el-link type=\"danger\">\r\n                <div>{{data.serviceImplName}}</div>\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyName('serviceImpl')\">\r\n                <i class=\"el-icon-document-copy\" style=\"cursor: pointer;\"></i>复制名称\r\n              </el-button>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('serviceImpl')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.serviceImpl\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'five'\">\r\n              <el-link type=\"danger\">\r\n                <div>{{data.controllerName}}</div>\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyName('controller')\">\r\n                <i class=\"el-icon-document-copy\" style=\"cursor: pointer;\"></i>复制名称\r\n              </el-button>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('controller')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.controller\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'six'\">\r\n              <el-link type=\"danger\">\r\n                <div>{{data.mapperXmlName}}</div>\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyName('mapperXml')\">\r\n                <i class=\"el-icon-document-copy\" style=\"cursor: pointer;\"></i>复制名称\r\n              </el-button>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('mapperXml')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.mapperXml\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'seven'\">\r\n              <el-link type=\"danger\">\r\n                api\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('api')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.api\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'eight'\">\r\n              <el-link type=\"danger\">\r\n                index\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('index')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.index\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'nine'\">\r\n              <el-link type=\"danger\">\r\n                add\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('add')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.add\"></div>\r\n            </div>\r\n            <div v-show=\"activeName == 'ten'\">\r\n              <el-link type=\"danger\">\r\n                update\r\n              </el-link>\r\n              <el-button type=\"primary\" size=\"mini\" plain  @click=\"copyCode('update')\">\r\n                <i class=\"el-icon-copy-document\" style=\"cursor: pointer;\"></i>复制代码\r\n              </el-button>\r\n              <div style=\"white-space: pre-wrap;\" v-text=\"data.update\"></div>\r\n            </div>\r\n        </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Clipboard from \"clipboard\";\r\n  import {preview} from '../../../api/api'\r\n  export default {\r\n    data() {\r\n      return{\r\n        activeName: \"one\",\r\n        data: {\r\n          domain: \"\",\r\n          domainName: \"\",\r\n          mapper: \"\",\r\n          mapperName: \"\",\r\n          service: \"\",\r\n          serviceName: \"\",\r\n          serviceImpl: \"\",\r\n          serviceImplName: \"\",\r\n          controller: \"\",\r\n          controllerName: \"\",\r\n          mapperXml: \"\",\r\n          mapperXmlName: \"\",\r\n          api: \"\",\r\n          index: \"\",\r\n          add: \"\",\r\n          update: \"\"\r\n        }\r\n      }\r\n    },\r\n    props: ['previewGenVisible','updateId'],\r\n    methods: {\r\n      copyName(name) {\r\n          console.log(\"name\")\r\n        if (name == \"domain\") {\r\n          // newData => 需要复制的文本 \r\n          navigator.clipboard.writeText(this.data.domainName).then(() => {\r\n            //复制成功后执行的逻辑\r\n            this.$message.success('复制成功')\r\n          })\r\n        }\r\n      },\r\n      copyCode(name) {\r\n        if (name == \"domain\") {\r\n\r\n        }\r\n      },\r\n      handleClose() {\r\n        this.data = {\r\n          domain: \"\",\r\n          domainName: \"\",\r\n          mapper: \"\",\r\n          mapperName: \"\",\r\n          service: \"\",\r\n          serviceName: \"\",\r\n          serviceImpl: \"\",\r\n          serviceImplName: \"\",\r\n          controller: \"\",\r\n          controllerName: \"\",\r\n          mapperXml: \"\",\r\n          mapperXmlName: \"\",\r\n          api: \"\",\r\n          index: \"\",\r\n          add: \"\",\r\n          update: \"\"\r\n        }\r\n        this.$emit(\"previewGenFalse\")\r\n      },\r\n    },\r\n    created() {\r\n     \r\n    },\r\n    mounted() {\r\n      \r\n    },\r\n    watch: {\r\n      updateId(newVal) {\r\n        if(newVal) {\r\n          preview({id:newVal}).then(res => {\r\n            if(res.code == 1000) {\r\n              this.data = res.data\r\n            } else {\r\n              this.$notify.error({\r\n                title: '错误',\r\n                message: res.message\r\n              });\r\n            }\r\n          })\r\n        }\r\n        \r\n      }\r\n    }\r\n }\r\n</script>\r\n\r\n<style lang=scss scoped>\r\n  .preview {\r\n    font-family: '黑体';\r\n  }\r\n  .content {\r\n    height: 350px;\r\n    overflow-y: scroll;\r\n  }\r\n</style>"],"mappings":"AAmIA,OAAAA,SAAA;AACA,SAAAC,OAAA;AACA;EACAC,KAAA;IACA;MACAC,UAAA;MACAD,IAAA;QACAE,MAAA;QACAC,UAAA;QACAC,MAAA;QACAC,UAAA;QACAC,OAAA;QACAC,WAAA;QACAC,WAAA;QACAC,eAAA;QACAC,UAAA;QACAC,cAAA;QACAC,SAAA;QACAC,aAAA;QACAC,GAAA;QACAC,KAAA;QACAC,GAAA;QACAC,MAAA;MACA;IACA;EACA;EACAC,KAAA;EACAC,OAAA;IACAC,SAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA;MACA,IAAAF,IAAA;QACA;QACAG,SAAA,CAAAC,SAAA,CAAAC,SAAA,MAAA1B,IAAA,CAAAG,UAAA,EAAAwB,IAAA;UACA;UACA,KAAAC,QAAA,CAAAC,OAAA;QACA;MACA;IACA;IACAC,SAAAT,IAAA;MACA,IAAAA,IAAA,eAEA;IACA;IACAU,YAAA;MACA,KAAA/B,IAAA;QACAE,MAAA;QACAC,UAAA;QACAC,MAAA;QACAC,UAAA;QACAC,OAAA;QACAC,WAAA;QACAC,WAAA;QACAC,eAAA;QACAC,UAAA;QACAC,cAAA;QACAC,SAAA;QACAC,aAAA;QACAC,GAAA;QACAC,KAAA;QACAC,GAAA;QACAC,MAAA;MACA;MACA,KAAAe,KAAA;IACA;EACA;EACAC,QAAA,GAEA;EACAC,QAAA,GAEA;EACAC,KAAA;IACAC,SAAAC,MAAA;MACA,IAAAA,MAAA;QACAtC,OAAA;UAAAuC,EAAA,EAAAD;QAAA,GAAAV,IAAA,CAAAY,GAAA;UACA,IAAAA,GAAA,CAAAC,IAAA;YACA,KAAAxC,IAAA,GAAAuC,GAAA,CAAAvC,IAAA;UACA;YACA,KAAAyC,OAAA,CAAAC,KAAA;cACAC,KAAA;cACAC,OAAA,EAAAL,GAAA,CAAAK;YACA;UACA;QACA;MACA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}