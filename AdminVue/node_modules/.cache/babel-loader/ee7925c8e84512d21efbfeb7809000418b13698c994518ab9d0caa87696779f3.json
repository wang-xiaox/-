{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState } from 'vuex';\nimport elAsside from \"../../components/layout/aside\";\nimport elMain from \"../../components/layout/main\";\nimport elHeader from \"../../components/layout/header\";\nexport default {\n  name: \"index\",\n  data() {\n    return {};\n  },\n  components: {\n    elAsside,\n    elMain,\n    elHeader\n  },\n  computed: {\n    ...mapState(['activeMenuArrary', 'activeMenu'])\n  },\n  methods: {\n    leftScroll() {\n      var container = document.getElementById('menu');\n      // 向左滚动100像素\n      container.scrollLeft -= 100;\n    },\n    rightScroll() {\n      var container = document.getElementById('menu');\n      // 向右滚动100像素\n      container.scrollLeft += 100;\n    },\n    openMenu(url) {\n      if (this.activeMenu != url) {\n        this.$router.push({\n          path: url\n        });\n        this.$store.commit('setActiveMenu', url);\n      }\n    },\n    closeMenu(url) {\n      var index = this.activeMenuArrary.length - 1;\n      for (let i = 0; i < this.activeMenuArrary.length; i++) {\n        if (this.activeMenuArrary[i].url == url) {\n          index = i;\n          break;\n        }\n      }\n      if (this.activeMenu == url) {\n        this.$router.push({\n          path: this.activeMenuArrary[index - 1].url\n        });\n      }\n      this.$store.commit('reduceActiveMenu', index);\n    }\n  },\n  created() {},\n  mounted() {}\n};","map":{"version":3,"names":["mapState","elAsside","elMain","elHeader","name","data","components","computed","methods","leftScroll","container","document","getElementById","scrollLeft","rightScroll","openMenu","url","activeMenu","$router","push","path","$store","commit","closeMenu","index","activeMenuArrary","length","i","created","mounted"],"sources":["src/views/layout/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"common-layout\">\r\n    <el-container>\r\n      <el-asside></el-asside>\r\n      <el-container>\r\n        <el-header></el-header>\r\n        <div class=\"main-menu\">\r\n          <div class=\"scroll-left\" @click=\"leftScroll()\">\r\n            <i class=\"el-icon-arrow-left\"></i>\r\n          </div>\r\n          <div class=\"menu\" id=\"menu\">\r\n            <div class=\"menu-item\" v-for=\"(item,index) in activeMenuArrary\" :key=\"index\" @click=\"openMenu(item.url)\">\r\n              <span :class=\"item.url == activeMenu?'active':''\" class=\"menu-name\">{{item.name}}</span>\r\n              <i v-if=\"item.url != '/index'\" class=\"menu-icon el-icon-close\" @click=\"closeMenu(item.url)\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"scroll-right\" @click=\"rightScroll()\">\r\n            <i class=\"el-icon-arrow-right\"></i>\r\n          </div>\r\n        </div>\r\n        <el-main></el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapState } from 'vuex'\r\n  import elAsside from \"../../components/layout/aside\"\r\n  import elMain from \"../../components/layout/main\"\r\n  import elHeader from \"../../components/layout/header\"\r\n\r\n  export default {\r\n    name: \"index\",\r\n    data() {\r\n      return{\r\n        \r\n      }\r\n    },\r\n    components:{\r\n      elAsside,\r\n      elMain,\r\n      elHeader\r\n    },\r\n    computed: {\r\n      ...mapState(['activeMenuArrary','activeMenu'])\r\n    },\r\n    methods: {\r\n      leftScroll() {\r\n        var container = document.getElementById('menu');\r\n        // 向左滚动100像素\r\n        container.scrollLeft -= 100;\r\n      },\r\n      rightScroll() {\r\n        var container = document.getElementById('menu');\r\n        // 向右滚动100像素\r\n        container.scrollLeft += 100;\r\n      },\r\n      openMenu(url) {\r\n        if (this.activeMenu != url) {\r\n          this.$router.push({\r\n            path: url,\r\n          })\r\n          this.$store.commit('setActiveMenu', url)\r\n        }\r\n      },\r\n      closeMenu(url) {\r\n        var index = this.activeMenuArrary.length - 1\r\n        for(let i = 0;i < this.activeMenuArrary.length;i++) {\r\n          if(this.activeMenuArrary[i].url == url) {\r\n            index = i;\r\n            break;\r\n          }\r\n        }\r\n        if(this.activeMenu == url) {\r\n          this.$router.push({\r\n            path: this.activeMenuArrary[index-1].url,\r\n          })\r\n        }\r\n        this.$store.commit('reduceActiveMenu', index)\r\n      }\r\n    },\r\n    created() {\r\n     \r\n    },\r\n    mounted() {\r\n      \r\n    }\r\n }\r\n</script>\r\n\r\n<style lang=scss scoped>\r\n    .common-layout >>> .el-menu-item {\r\n        min-width: 0;\r\n    }\r\n    .main-menu {\r\n      width: 100%;\r\n      height: 25px;\r\n      border-top: 1px solid #ECECF1;\r\n      background-color: #ffffff;\r\n      display: flex;\r\n      flex-direction: row;\r\n    }\r\n    .menu {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      height: 100%;\r\n      width: calc(100% - 60px);\r\n      overflow: scroll;\r\n      flex-grow: 0;\r\n      flex-basis: auto\r\n    }\r\n    .scroll-left {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 30px;\r\n      height: 100%;\r\n      cursor: pointer;\r\n    }\r\n    .menu::-webkit-scrollbar {\r\n      width: 0px;\r\n      height: 0px;\r\n    }\r\n    .scroll-right {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 30px;\r\n      height: 100%;\r\n      cursor: pointer;\r\n    }\r\n    .menu-item {\r\n      width: 100px;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      border-left: 1px solid #E5E5E5;\r\n      border-right: 1px solid #E5E5E5;\r\n      border-bottom: 1px solid #E5E5E5;\r\n      cursor: pointer;\r\n      background-color: #F5F7FA;\r\n      flex-shrink: 0;\r\n    }\r\n    .menu-name {\r\n      margin-left:10px;\r\n      font-size: 12px;\r\n      cursor: pointer;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n    .active {\r\n      color: #66B1FF;\r\n    }\r\n    .menu-icon {\r\n      cursor: pointer;\r\n      font-size: 12px;\r\n    }\r\n</style>"],"mappings":";AA2BA,SAAAA,QAAA;AACA,OAAAC,QAAA;AACA,OAAAC,MAAA;AACA,OAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA,QAEA;EACA;EACAC,UAAA;IACAL,QAAA;IACAC,MAAA;IACAC;EACA;EACAI,QAAA;IACA,GAAAP,QAAA;EACA;EACAQ,OAAA;IACAC,WAAA;MACA,IAAAC,SAAA,GAAAC,QAAA,CAAAC,cAAA;MACA;MACAF,SAAA,CAAAG,UAAA;IACA;IACAC,YAAA;MACA,IAAAJ,SAAA,GAAAC,QAAA,CAAAC,cAAA;MACA;MACAF,SAAA,CAAAG,UAAA;IACA;IACAE,SAAAC,GAAA;MACA,SAAAC,UAAA,IAAAD,GAAA;QACA,KAAAE,OAAA,CAAAC,IAAA;UACAC,IAAA,EAAAJ;QACA;QACA,KAAAK,MAAA,CAAAC,MAAA,kBAAAN,GAAA;MACA;IACA;IACAO,UAAAP,GAAA;MACA,IAAAQ,KAAA,QAAAC,gBAAA,CAAAC,MAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,QAAAF,gBAAA,CAAAC,MAAA,EAAAC,CAAA;QACA,SAAAF,gBAAA,CAAAE,CAAA,EAAAX,GAAA,IAAAA,GAAA;UACAQ,KAAA,GAAAG,CAAA;UACA;QACA;MACA;MACA,SAAAV,UAAA,IAAAD,GAAA;QACA,KAAAE,OAAA,CAAAC,IAAA;UACAC,IAAA,OAAAK,gBAAA,CAAAD,KAAA,MAAAR;QACA;MACA;MACA,KAAAK,MAAA,CAAAC,MAAA,qBAAAE,KAAA;IACA;EACA;EACAI,QAAA,GAEA;EACAC,QAAA,GAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}