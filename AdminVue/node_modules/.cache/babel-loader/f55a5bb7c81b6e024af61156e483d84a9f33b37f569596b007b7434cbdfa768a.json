{"ast":null,"code":"import { logout } from '@/api/api';\nconst state = {\n  token: \"\",\n  user: \"\"\n};\nconst getters = {\n  getToken(state) {\n    if (state.token) {\n      return state.token;\n    } else {\n      return window.localStorage.getItem(\"token\");\n    }\n  },\n  getUser(state) {\n    if (state.user) {\n      return state.user;\n    } else {\n      return window.localStorage.getItem(\"user\");\n    }\n  }\n};\nconst mutations = {\n  setToken(state, token) {\n    state.token = token;\n    window.localStorage.setItem(\"token\", token);\n  },\n  setUser(state, user) {\n    state.user = user;\n    window.localStorage.setItem(\"user\", user);\n  }\n};\nconst actions = {\n  logout({\n    commit\n  }) {\n    return new Promise(resolve => {\n      commit('setToken', '');\n      commit('setUser', '');\n      logout();\n      resolve();\n    });\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};","map":{"version":3,"names":["logout","state","token","user","getters","getToken","window","localStorage","getItem","getUser","mutations","setToken","setItem","setUser","actions","commit","Promise","resolve","namespaced"],"sources":["D:/vue_project/back_stage_front/src/store/modules/user.js"],"sourcesContent":["import { logout } from '@/api/api'\r\nconst state = {\r\n  token: \"\",\r\n  user: \"\",\r\n}\r\nconst getters ={\r\n  getToken(state) {\r\n    if (state.token) {\r\n      return state.token\r\n    } else {\r\n      return window.localStorage.getItem(\"token\")\r\n    }\r\n  },\r\n  getUser(state) {\r\n    if (state.user) {\r\n      return state.user\r\n    } else {\r\n      return window.localStorage.getItem(\"user\")\r\n    }\r\n  }\r\n}\r\n  \r\nconst mutations = {\r\n    setToken(state,token) {\r\n      state.token = token\r\n      window.localStorage.setItem(\"token\",token)\r\n    },\r\n    setUser(state,user) {\r\n      state.user = user\r\n      window.localStorage.setItem(\"user\",user)\r\n    }\r\n}\r\n\r\nconst actions = {\r\n  logout({ commit }) {\r\n    return new Promise(resolve => {\r\n      commit('setToken', '')\r\n      commit('setUser', '')\r\n      logout()\r\n      resolve()\r\n    })\r\n  }\r\n}\r\n  \r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\r\n  "],"mappings":"AAAA,SAASA,MAAM,QAAQ,WAAW;AAClC,MAAMC,KAAK,GAAG;EACZC,KAAK,EAAE,EAAE;EACTC,IAAI,EAAE;AACR,CAAC;AACD,MAAMC,OAAO,GAAE;EACbC,QAAQA,CAACJ,KAAK,EAAE;IACd,IAAIA,KAAK,CAACC,KAAK,EAAE;MACf,OAAOD,KAAK,CAACC,KAAK;IACpB,CAAC,MAAM;MACL,OAAOI,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC7C;EACF,CAAC;EACDC,OAAOA,CAACR,KAAK,EAAE;IACb,IAAIA,KAAK,CAACE,IAAI,EAAE;MACd,OAAOF,KAAK,CAACE,IAAI;IACnB,CAAC,MAAM;MACL,OAAOG,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC5C;EACF;AACF,CAAC;AAED,MAAME,SAAS,GAAG;EACdC,QAAQA,CAACV,KAAK,EAACC,KAAK,EAAE;IACpBD,KAAK,CAACC,KAAK,GAAGA,KAAK;IACnBI,MAAM,CAACC,YAAY,CAACK,OAAO,CAAC,OAAO,EAACV,KAAK,CAAC;EAC5C,CAAC;EACDW,OAAOA,CAACZ,KAAK,EAACE,IAAI,EAAE;IAClBF,KAAK,CAACE,IAAI,GAAGA,IAAI;IACjBG,MAAM,CAACC,YAAY,CAACK,OAAO,CAAC,MAAM,EAACT,IAAI,CAAC;EAC1C;AACJ,CAAC;AAED,MAAMW,OAAO,GAAG;EACdd,MAAMA,CAAC;IAAEe;EAAO,CAAC,EAAE;IACjB,OAAO,IAAIC,OAAO,CAACC,OAAO,IAAI;MAC5BF,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC;MACtBA,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;MACrBf,MAAM,EAAE;MACRiB,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAED,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBjB,KAAK;EACLG,OAAO;EACPM,SAAS;EACTI;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}